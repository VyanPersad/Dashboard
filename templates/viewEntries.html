<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/viewEntries.css') }}">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
    <body>
        <div class="result"> 
            {% for row in rows %}
                <div class="row">
                    <div>{{row.code}}</div>
                    <div> {{row.model}}</div>
                    <div class="cash">
                        <div>$</div>
                        <div>{{row.price}}</div>
                    </div>
                </div>
            {% endfor %} 
        </div>
        <form class="serForm" method="POST">
            <input type="text" class="add" name="serCode">
            <input type="submit" value="Search" name="serButton" id="serButton">
        </form>
        <div class="result">
            {% for search in searches %}
                <div class="row">
                    <div>{{search.Sku}}</div>
                    <div>{{search.Brand}}</div>
                    <div>{{search.Description}}</div>
                    <div class="cash">
                        <div>$</div> 
                        <div>{{search['Cash Price']}}</div>
                    </div>
                </div>
            {% endfor %} 
        </div>
        <div class="img_result">
            <img src="{{ url_for('static', filename='Test_Sales.png') }}?v={{ range(1, 99999) | random }}">
        </div>
        <div style="width: 25%; height: 45%"><canvas id="myChart"></canvas></div>
        <!-- Plot Section
        <div class="result">
            {% for pts in plots %}
                <div class="row">
                    <div>{{pts.Sku}}</div> 
                    <div>{{pts.Year}}</div> 
                    <div class="month">
                        {% for month in months %}
                            <div>{{pts[month]}}</div>
                        {% endfor %}
                    </div>
                </div>
            {% endfor %} 
        </div> -->
        <div class="result">
            {% for output in outputs %}
                <div class="row">
                    <div>{{output.Sku}}</div>
                    <div>{{output.Brand}}</div>
                    <div>{{output.Description}}</div>
                    <div class="cash">
                        <div>$</div> 
                        <div>{{output['Cash Price']}}</div>
                    </div>
                    <div class="month">
                        {% for month in months %}
                        <div>{{output[month]}}</div>
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}
        </div>
        <form class="delForm" method="POST">
            <input type="Submit" value="Go To" name="goToButton" id="delButton">
        </form>
            <script>
                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: {{ chart_labels | tojson }},
                        datasets: [{
                            label: 'Sales Data',
                            data: {{ chart_data | tojson }},
                            backgroundColor: 'rgba(54, 162, 235, 0.2)',
                            borderColor: 'rgba(54, 162, 235, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            </script>
</html>